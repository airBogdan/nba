 ---
  HIGH IMPACT Improvements

  1. Fix the Bankroll Bleed (Sizing & Odds)
  - System defaults to -110 odds when real odds aren't captured — this is wrong for moneyline favorites (often -200 to -400)
  - Placing $115 on a -230 moneyline favorite that wins only returns ~$50 profit, but a loss costs $115
  - Fix: Integrate real odds from the API (the GameOdds TypedDict exists but is never populated). The odds endpoints in client.py are attempted but commented out. Make this work.
  - Fix: Implement Kelly Criterion or fractional Kelly for sizing instead of flat "1% per unit"

  2. Stop Betting Spreads (or Radically Rethink Them)
  - Spreads are 1-2 (33%). Moneylines on the same games would have been 2-1 or better.
  - The Knicks -7.5 vs Denver won by 7 — losing by the hook. Houston -6.5 lost by 21.
  - Fix: Either eliminate spreads from ANALYZE_GAME_PROMPT or add explicit instructions: "Only recommend spreads when expected margin exceeds the line by 5+ points"
  - The prompt currently treats spread/moneyline/total as equal options — they shouldn't be

  3. Fix the Odds Data Pipeline
  - ANALYZE_GAME_PROMPT has an extensive "Using the Odds Data" section discussing spreads, totals, alternates, and prices
  - But it's unclear the matchup JSON actually contains this data — the odds fetching code in main.py is incomplete
  - Fix: Either make odds data real (fetch from API-Sports or another source) or remove the odds section from the prompt to stop hallucinating about lines that don't exist
  - This mismatch means the LLM may be making decisions based on imagined odds

  4. Weight Recent Data Over Historical
  - H2H games from 3+ years ago are weighted equally with last month's games
  - A team's early-season 5-10 record counts the same as their current 15-2 run
  - Fix in helpers/matchup.py: Add exponential decay weighting to compute_edges() and H2H stats in helpers/games.py
  - Fix in helpers/api/processors.py: Weight recent games more heavily in process_team_stats()

  ---
  MEDIUM IMPACT Improvements

  5. Add Pace-Adjusted Efficiency Metrics
  - matchup.py calculates pace and ORTG/DRTG but uses a hardcoded league_avg_efficiency = 112 (line 228)
  - Missing: True Shooting %, Effective FG%, turnover rate (turnovers/possession)
  - Fix: Calculate TS% and eFG% from existing data in processors.py. Derive league average from actual team data rather than hardcoding.

  6. Improve Totals Analysis
  - compute_totals_analysis() has a bug: lines 843-855 mix team1 and team2 recent games when computing recent scoring trend — averages four separate teams' scoring rather than the matchup total
  - The H2H weight (0.4 with history, 0.2 without) is arbitrary
  - Fix: Fix the recent scoring trend calculation. Use regression-to-mean for extreme totals. Add rest/fatigue impact on totals (your B2B unders are 100%).

  7. Calibrate Confidence → Unit Mapping
  - High confidence: 5-1 (83%) — well calibrated
  - Medium confidence: 6-3 (67%) — under-performing, but getting same relative unit sizing
  - Fix: Widen the gap: high=2.5u, medium=0.75u, low=0.25u. Or better: have the LLM output an expected win probability and use that for Kelly sizing.

  8. Aggregate Reflections Into Strategy
  - 16 reflections stored as unstructured strings in CompletedBet.reflection
  - Patterns like "overweighted H2H", "underestimated depth culture", "missed revenge game" repeat but aren't extracted
  - Fix: Structure reflections as JSON with typed fields (edge_valid, missed_factors, process_assessment). Feed aggregated reflection patterns into UPDATE_STRATEGY_PROMPT.

  9. Add Strength of Schedule
  - RecentGame.vs_win_pct is captured but barely used
  - Beating a .300 team by 10 ≠ beating a .600 team by 10
  - Fix: Compute SOS-adjusted metrics in build_team_snapshot(). Weight recent game margins by opponent quality.

  10. Prompt Engineering Improvements
  - compact_json() removes ALL whitespace from matchup data — makes it harder for the LLM to parse nested structures
  - Prompts don't leverage Claude's chain-of-thought strengths
  - Fix: Use pretty-printed JSON with strategic abbreviation. Add explicit "Think step by step" reasoning structure. Ask LLM to compute expected margin numerically before picking.

  ---
  LOWER IMPACT (but easy wins)

  11. Add Missing Contextual Signals
  - No altitude factor (Denver is +3-4 points at home due to altitude)
  - No travel distance / timezone impact
  - No coaching matchup history
  - No "playoff race" / tanking motivation signal
  - No shooting regression detection (teams shooting unsustainably hot/cold from 3)

  12. Fix Hardcoded Magic Numbers
  - league_avg_efficiency = 112 (line 228, matchup.py) — should be computed from data
  - league_avg_total = 225 (line 799) — varies yearly
  - Player filter: top 8 by MPG with 5+ games (processors.py line 33-34) — loses bench depth info
  - Recent games limited to 5 (processors.py line 230) — should be configurable or 10

  13. Add Correlation Validation
  - LLM is told to avoid correlated bets but there's no post-hoc check
  - Spread + moneyline on the same team = highly correlated
  - Fix: Add a simple check in analyze.py after synthesis: reject if >1 directional bet on same game

  14. Track Strategy Versions
  - update-strategy overwrites strategy.md — no history of what changed
  - Fix: Save timestamped versions (strategy_2026-02-07.md) or use git

  15. Add Line Movement Signal
  - If the line moves against your edge after you identify it, the market is disagreeing
  - This is a strong negative signal that should reduce confidence
  - Fix: Capture opening vs closing lines (requires odds data from fix #3)